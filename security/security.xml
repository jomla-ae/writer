<odoo>
    <data noupdate="1">
        <record id="group_writer_user" model="res.groups">
            <field name="name">Writer</field>
            <field name="category_id" ref="base.module_category_hidden"/>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <record id="product_template_writer_rule" model="ir.rule">
            <field name="name">Writer: Products</field>
            <field name="model_id" ref="product.model_product_template"/>
            <field name="groups" eval="[(4, ref('writer.group_writer_user'))]"/>
            <field name="domain_force">[('writer_id.user_id','=',user.id)]</field>
        </record>

        <record id="product_category_writer_rule" model="ir.rule">
            <field name="name">Writer: Product Categories</field>
            <field name="model_id" ref="product.model_product_category"/>
            <field name="groups" eval="[(4, ref('writer.group_writer_user'))]"/>
            <field name="domain_force">[('writer_id.user_id','=',user.id)]</field>
        </record>

        <!-- writer pricelist -->
        <record id="writer_pricelist_rule_multi_company_rule" model="ir.rule">
            <field name="name">Writer Pricelist multi-company</field>
            <field name="model_id" ref="writer.model_writer_pricelist"/>
            <field name="global" eval="True"/>
            <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        </record>

        <!-- writer commission line-->
        <record id="writer_commission_line_portal_rule" model="ir.rule">
            <field name="name">Writer Commission Line Portal</field>
            <field name="model_id" ref="writer.model_writer_commission_line"/>
            <field name="groups" eval="[(4, ref('base.group_portal'))]"/>
            <field name="domain_force">[('writer_id.user_id','=',user.id)]</field>
        </record>

        <!-- writer target -->
        <record id="writer_target_rule_multi_company_rule" model="ir.rule">
            <field name="name">Writer Target multi-company</field>
            <field name="model_id" ref="writer.model_writer_target"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record id="writer_target_line_rule_multi_company_rule" model="ir.rule">
            <field name="name">Writer Target Line multi-company</field>
            <field name="model_id" ref="writer.model_writer_target_line"/>
            <field name="global" eval="True"/>
            <field name="domain_force">
                ['|',('writer_target_id.company_id','=',False),('writer_target_id.company_id','in', company_ids)]
            </field>
        </record>

        <record id="writer_target_writer_user_rule" model="ir.rule">
            <field name="name">Writer: Writer Targets</field>
            <field name="model_id" ref="writer.model_writer_target"/>
            <field name="groups" eval="[(4, ref('writer.group_writer_user'))]"/>
            <field name="domain_force">[('writer_id.user_id','=',user.id)]</field>
        </record>

        <record id="writer_target_writer_line_user_rule" model="ir.rule">
            <field name="name">Writer: Writer Target Lines</field>
            <field name="model_id" ref="writer.model_writer_target_line"/>
            <field name="groups" eval="[(4, ref('writer.group_writer_user'))]"/>
            <field name="domain_force">[('writer_target_id.writer_id.user_id','=',user.id)]</field>
        </record>

        <record id="writer_target_writer_portal_rule" model="ir.rule">
            <field name="name">Writer Targets Portal</field>
            <field name="model_id" ref="writer.model_writer_target"/>
            <field name="groups" eval="[(4, ref('base.group_portal'))]"/>
            <field name="domain_force">[('writer_id.user_id','=',user.id)]</field>
        </record>

        <record id="writer_target_writer_line_portal_rule" model="ir.rule">
            <field name="name">Writer Target Lines Portal</field>
            <field name="model_id" ref="writer.model_writer_target_line"/>
            <field name="groups" eval="[(4, ref('base.group_portal'))]"/>
            <field name="domain_force">[('writer_target_id.writer_id.user_id','=',user.id)]</field>
        </record>
    </data>
</odoo>