<odoo>
    <template id="portal_my_home_writer" name="Show Menus Writer" inherit_id="portal.portal_my_home"
              customize_show="True" priority="50">
        <xpath expr="//div[hasclass('o_portal_docs')]" position="inside">
            <t t-call="portal.portal_docs_entry" t-if="request.env.user.employee_id.is_writer">
                <t t-set="title">Products</t>
                <t t-set="url" t-value="'/my/writer_products'"/>
                <t t-set="placeholder_count" t-value="'writer_products_count'"/>
            </t>

            <t t-call="portal.portal_docs_entry" t-if="request.env.user.employee_id.is_writer">
                <t t-set="title">Product Brands</t>
                <t t-set="url" t-value="'/my/writer_product_brands'"/>
                <t t-set="placeholder_count" t-value="'writer_product_brands_count'"/>
            </t>

            <t t-call="portal.portal_docs_entry" t-if="request.env.user.employee_id.is_writer">
                <t t-set="title">Product Tags</t>
                <t t-set="url" t-value="'/my/writer_product_tags'"/>
                <t t-set="placeholder_count" t-value="'writer_product_tags_count'"/>
            </t>

            <t t-call="portal.portal_docs_entry" t-if="request.env.user.employee_id.is_writer">
                <t t-set="title">Product Categories</t>
                <t t-set="url" t-value="'/my/writer_product_categories'"/>
                <t t-set="placeholder_count" t-value="'writer_product_categories_count'"/>
            </t>

            <t t-call="portal.portal_docs_entry" t-if="request.env.user.employee_id.is_writer">
                <t t-set="title">Target Report</t>
                <t t-set="url" t-value="'/my/writer_target_lines'"/>
                <t t-set="placeholder_count" t-value="'writer_target_lines_count'"/>
            </t>

            <t t-call="portal.portal_docs_entry" t-if="request.env.user.employee_id.is_writer">
                <t t-set="title">Commission Report</t>
                <t t-set="url" t-value="'/my/writer_commission_lines'"/>
                <t t-set="placeholder_count" t-value="'writer_commissions_count'"/>
            </t>
        </xpath>
    </template>

    <template id="portal_my_home_menu_writer" name="Portal layout : Writer menu"
              inherit_id="portal.portal_breadcrumbs">
        <xpath expr="//ol[hasclass('o_portal_submenu')]" position="inside">
            <li t-if="page_name == 'Writer Product'" class="breadcrumb-item active">Products</li>
            <li t-if="page_name == 'Writer Product Brand'" class="breadcrumb-item active">Product Brands</li>
            <li t-if="page_name == 'Writer Product Tag'" class="breadcrumb-item active">Product Tags</li>
            <li t-if="page_name == 'Writer Product Category'" class="breadcrumb-item active">Product Categories</li>
            <li t-if="page_name == 'Writer Target Report'" class="breadcrumb-item active">Target Report</li>

            <li t-if="page_name == 'Writer Commission Report'"
                t-attf-class="breadcrumb-item #{'active ' if not writer_commission_line else ''}">
                <a t-if="writer_commission_line" t-attf-href="/my/writer_commission_lines?{{ keep_query() }}">
                    Commission Report
                </a>
                <t t-else="">Commission Report</t>
            </li>
            <li t-if="writer_commission_line" class="breadcrumb-item active">
                <t t-esc="writer_commission_line.sudo().display_name"/>
            </li>
        </xpath>
    </template>

    <template id="portal_my_writer_products" name="My Writer Product">
        <t t-call="portal.portal_layout">
            <t t-set="breadcrumbs_searchbar" t-value="True"/>

            <t t-call="portal.portal_searchbar">
                <t t-set="title">Products</t>
            </t>


            <t t-if="not grouped_products">
                <div class="alert alert-warning mt8" role="alert">
                    There are no products.
                </div>
            </t>
            <t t-else="">
                <t t-call="portal.portal_table">
                    <thead>
                        <tr>
                            <th>Image</th>
                            <th>Product Name</th>
                            <th>Internal Reference</th>
                            <th>Product Category</th>
                            <th>Brand</th>
                            <th>Product Tags</th>
                            <th class="text-end">Status</th>
                            <th/>
                            <th/>
                        </tr>
                    </thead>

                    <t t-foreach="grouped_products" t-as="products">
                        <tbody t-if="products">
                            <tr t-if="not groupby == 'none'" class="table-light">
                                <th t-if="groupby == 'category'" colspan="9">
                                    <span class="text-truncate" t-field="products[0].sudo().categ_id"/>
                                </th>
                                <th t-if="groupby == 'brand'" colspan="9">
                                    <span class="text-truncate" t-esc="products[0].brand_id or 'None'"/>
                                </th>

                                <th t-if="groupby == 'state'" colspan="9">
                                    <span class="text-truncate" t-field="products[0].state"/>
                                </th>
                            </tr>
                        </tbody>

                        <tbody t-if="products">
                            <t t-foreach="products" t-as="product">
                                <tr>
                                    <td>
                                        <img t-if="product.image_1920" t-att-src="image_data_uri(product.image_1920)"
                                             style="max-height:60pt;max-width:90%" alt="Product Image"/>
                                    </td>

                                    <td>
                                        <span t-field="product.name"/>
                                    </td>

                                    <td>
                                        <span t-field="product.default_code"/>
                                    </td>

                                    <td>
                                        <span t-field="product.sudo().categ_id"/>
                                    </td>

                                    <td>
                                        <span t-field="product.brand_id"/>

                                    </td>

                                    <td>
                                        <span t-field="product.product_tag_ids"/>
                                    </td>

                                    <td class="text-end">
                                        <span class="badge text-bg-light" t-field="product.state"/>
                                    </td>

                                    <td>
                                        <t t-if="product.state == 'draft'">
                                            <a t-attf-href="/my/writer_products/edit/#{product.id}" title="Edit">
                                                <button type="button" class="btn btn-secondary o_default_snippet_text">
                                                    Edit
                                                </button>
                                            </a>
                                        </t>
                                    </td>

                                    <td>
                                        <t t-if="product.state == 'draft'">
                                            <a t-attf-href="/my/writer_products/submit/#{product.id}" title="Submit">
                                                <button type="button" class="btn btn-secondary o_default_snippet_text">
                                                    Submit
                                                </button>
                                            </a>
                                        </t>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </t>
                </t>
            </t>
        </t>
    </template>

    <template id="portal_my_writer_product_edit" name="Writer Product Edit">
        <t t-call="web.frontend_layout">
            <div id="wrap">
                <div class="container pt-4 pb-5">
                    <h1 class="o_page_header">
                        <t t-esc="product.display_name"/>
                    </h1>
                    <div>
                        <form method="post" role="form" class="o_writer_product_editor_form js_website_submit_form row"
                              enctype="multipart/form-data">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                            <input type="hidden" name="submit_option"/>
                            <input type="hidden" name="delete_image_ids"/>
                            <input type="hidden" name="update_product_image_types"/>

                            <div class="col-9 mb-3">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="mb-3 col-12 position-relative">
                                                <div>
                                                    <button class="btn btn-light border-0 rounded-circle m-1 p-1"
                                                            aria-label="Add"
                                                            name="o_writer_add_product_image">
                                                        <i class="fa fa-plus fa-fw"/>
                                                    </button>
                                                </div>

                                                <t t-set="product_images" t-value="product._get_images()"/>
                                                <div id="o-carousel-product"
                                                     class="carousel slide position-sticky mb-3 overflow-hidden"
                                                     data-bs-ride="carousel" data-bs-interval="0"
                                                     data-name="Product Carousel">
                                                    <div class="o_carousel_product_outer carousel-outer position-relative flex-grow-1">
                                                        <div class="carousel-inner h-100">
                                                            <t t-set="image_classes"
                                                               t-value="'d-flex align-items-center justify-content-center h-100'"/>
                                                            <t t-foreach="product_images" t-as="product_image">
                                                                <div t-attf-class="carousel-item h-100#{' active' if product_image_first else ''}"
                                                                     style="min-height: 400px;"
                                                                     t-att-id="product_image.id"
                                                                     t-att-model="product_image._name"
                                                                     t-att-image_type="product_image._name == 'product.image' and product_image.type or ''">
                                                                    <div style="margin: 0 20px;margin-top: 8px;"
                                                                         t-if="product_image._name == 'product.image'">
                                                                        <span class="bg-info"
                                                                              t-attf-style="border-radius: 25px;padding: 4px;color: white;#{ product_image.type == 'banner' and 'display:none;' or ''}">
                                                                            Gallery
                                                                        </span>
                                                                        <span class="bg-success"
                                                                              t-attf-style="border-radius: 25px;padding: 4px;color: white;#{ product_image.type == 'gallery' and 'display:none;' or ''}">
                                                                            Banner
                                                                        </span>
                                                                    </div>
                                                                    <div t-if="product_image._name == 'product.image' and product_image.embed_code"
                                                                         t-att-class="image_classes + ' ratio ratio-16x9'">
                                                                        <t t-out="product_image.embed_code"/>
                                                                    </div>
                                                                    <div t-else="" t-field="product_image.image_1920"
                                                                         t-att-class="image_classes + ' oe_unmovable'"
                                                                         t-options='{"widget": "image", "preview_image": "image_1024", "class": "oe_unmovable product_detail_img mh-100", "alt-field": "name", "zoom": product_image.can_image_1024_be_zoomed and "image_1920"}'/>
                                                                </div>
                                                            </t>

                                                            <div class="" style="min-height: 400px;display:none"
                                                                 id="add_product_image_0" model="no_model">
                                                                <div style="margin: 0 20px;margin-top: 8px;">
                                                                    <span class="bg-info"
                                                                          style="border-radius: 25px;padding: 4px;color: white;display:none;">
                                                                        Gallery
                                                                    </span>
                                                                    <span class="bg-success"
                                                                          style="border-radius: 25px;padding: 4px;color: white;display:none;">
                                                                        Banner
                                                                    </span>
                                                                </div>

                                                                <div t-att-class="image_classes + ' ratio-16x9'">
                                                                    <img class="img img-fluid oe_unmovable product_detail_img mh-100"
                                                                         alt="Add" data-zoom="1"/>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <t t-set="product_images_count" t-value="len(product_images)"/>
                                                        <a id="carousel_prev" class="carousel-control-prev"
                                                           href="#o-carousel-product"
                                                           role="button" data-bs-slide="prev"
                                                           t-attf-style="color: black;#{ (product_images_count &lt;= 1) and 'display:none;' or ''}">
                                                            <span class="fa fa-chevron-left fa-2x oe_unmovable"
                                                                  role="img"
                                                                  aria-label="Previous" title="Previous"/>
                                                        </a>
                                                        <a id="carousel_next" class="carousel-control-next"
                                                           href="#o-carousel-product"
                                                           role="button" data-bs-slide="next"
                                                           t-attf-style="color: black;#{ (product_images_count &lt;= 1) and 'display:none;' or ''}">
                                                            <span class="fa fa-chevron-right fa-2x oe_unmovable"
                                                                  role="img"
                                                                  aria-label="Next" title="Next"/>
                                                        </a>
                                                    </div>

                                                    <div t-if="len(product_images) > 0" id="edit_delete_image_product">
                                                        <button class="btn btn-light border-0 rounded-circle m-1 p-1"
                                                                aria-label="Edit"
                                                                name="o_writer_edit_product_image">
                                                            <i class="fa fa-pencil fa-fw"/>
                                                        </button>

                                                        <button class="btn btn-light border-0 rounded-circle m-1 p-1"
                                                                aria-label="Clear" style="float: right;"
                                                                name="o_writer_remove_product_image">
                                                            <i class="fa fa-trash-o fa-fw"/>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="name">
                                                    <span class="fw-bold">Image Type</span>
                                                </label>

                                                <select class="form-control" id="image_type" name="image_type">
                                                    <option value="gallery">Gallery</option>
                                                    <option value="banner">Banner</option>
                                                </select>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="name">
                                                    <span class="fw-bold">Product Name</span>
                                                </label>

                                                <input name="name" id="name" class="form-control"
                                                       placeholder="Product Name"
                                                       t-att-value="product.with_context(lang=lang_code_en).name"
                                                       type="text" required="1"/>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="name_arabic">
                                                    <span class="fw-bold">Product Name (Arabic)</span>
                                                </label>

                                                <input name="name_arabic" id="name_arabic" class="form-control"
                                                       placeholder="Product Name (Arabic)"
                                                       t-att-value="product.with_context(lang=lang_code_ar or lang_code_en).name"
                                                       type="text" required="1"/>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="brand_id">
                                                    <span class="fw-bold">Brand</span>
                                                </label>


                                                <select name="brand_id" id="brand_id" class="form-control">
                                                    <option value=""/>
                                                    <t t-foreach="request.env['product.brand'].search([])" t-as="brand">
                                                        <option t-att-value="brand.id"
                                                                t-att-selected="brand.id == product.brand_id.id">
                                                            <t t-esc="brand.name"/>
                                                        </option>
                                                    </t>
                                                </select>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="product_tag_ids">
                                                    <span class="fw-bold">Product Tags</span>
                                                </label>


                                                <select name="product_tag_ids" id="product_tag_ids"
                                                        class="form-control writer_field_many2many_tags"
                                                        multiple="multiple">
                                                    <t t-foreach="request.env['product.tag'].search([])" t-as="tag">
                                                        <option t-att-value="tag.id"
                                                                t-att-selected="tag.id in product.product_tag_ids.ids">
                                                            <t t-esc="tag.name"/>
                                                        </option>
                                                    </t>
                                                </select>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="description">
                                                    <span class="fw-bold">Sales Description</span>
                                                </label>

                                                <textarea name="description" id="description" style="min-height: 120px"
                                                          class="form-control o_ckeditor_loader" data-lang="en">
                                                    <t t-esc="product.with_context(lang=lang_code_en).description"/>
                                                </textarea>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="description_arabic">
                                                    <span class="fw-bold">Sales Description (Arabic)</span>
                                                </label>

                                                <textarea name="description_arabic" id="description_arabic"
                                                          style="min-height: 120px"
                                                          class="form-control o_ckeditor_loader" data-lang="ar">
                                                    <t t-esc="product.description_arabic"/>
                                                </textarea>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="seo_title">
                                                    <span class="fw-bold">SEO Title</span>
                                                </label>

                                                <input name="seo_title" id="seo_title" class="form-control"
                                                       placeholder="SEO Title"
                                                       t-att-value="product.with_context(lang=lang_code_en).seo_title"
                                                       type="text"/>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="seo_title_arabic">
                                                    <span class="fw-bold">SEO Title (Arabic)</span>
                                                </label>

                                                <input name="seo_title_arabic" id="seo_title_arabic"
                                                       class="form-control"
                                                       placeholder="SEO Title (Arabic)"
                                                       t-att-value="product.with_context(lang=lang_code_ar or lang_code_en).seo_title"
                                                       type="text"/>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="seo_description">
                                                    <span class="fw-bold">SEO Description</span>
                                                </label>

                                                <textarea name="seo_description" id="seo_description"
                                                          style="min-height: 120px" class="form-control">
                                                    <t t-esc="product.with_context(lang=lang_code_en).seo_description"/>
                                                </textarea>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="seo_description_arabic">
                                                    <span class="fw-bold">SEO Description (Arabic)</span>
                                                </label>

                                                <textarea name="seo_description_arabic" id="seo_description_arabic"
                                                          style="min-height: 120px" class="form-control">
                                                    <t t-esc="product.with_context(lang=lang_code_ar or lang_code_en).seo_description"/>
                                                </textarea>
                                            </div>

                                            <div class="col">
                                                <button type="submit" class="btn btn-primary">Save</button>
                                                <button name="o_writer_submit_save_button" type="submit"
                                                        class="btn btn-primary">Save and Submit
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <template id="portal_my_writer_product_brands" name="My Writer Product Brand">
        <t t-call="portal.portal_layout">
            <t t-set="breadcrumbs_searchbar" t-value="True"/>

            <t t-call="portal.portal_searchbar">
                <t t-set="title">Product Brands</t>
            </t>


            <t t-if="not product_brands">
                <div class="alert alert-warning mt8" role="alert">
                    There are no product brands.
                </div>
            </t>
            <t t-else="">
                <t t-call="portal.portal_table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="product_brands" t-as="product_brand">
                            <tr>
                                <td>
                                    <span t-field="product_brand.name"/>
                                </td>

                                <td>
                                    <span t-field="product_brand.description"/>
                                </td>

                                <td>
                                    <a t-attf-href="/my/writer_product_brands/edit/#{product_brand.id}" title="Edit">
                                        <button type="button" class="btn btn-secondary o_default_snippet_text">
                                            Edit
                                        </button>
                                    </a>
                                </td>
                            </tr>
                        </t>
                    </tbody>
                </t>
            </t>
        </t>
    </template>

    <template id="portal_my_writer_product_brand_edit" name="Writer Product Brand Edit">
        <t t-call="web.frontend_layout">
            <div id="wrap">
                <div class="container pt-4 pb-5">
                    <h1 class="o_page_header">
                        <t t-esc="product_brand.display_name"/>
                    </h1>
                    <div>
                        <form method="post" role="form"
                              class="o_writer_product_brand_editor_form js_website_submit_form row"
                              enctype="multipart/form-data">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                            <input type="hidden" name="submit_option"/>

                            <div class="col-9 mb-3">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="mb-3 col-12 position-relative">
                                                <div>
                                                    <div style="min-height: 400px;">
                                                        <div t-field="product_brand.image_1920" id="product_brand_image"
                                                             class="d-flex align-items-center justify-content-center h-100  oe_unmovable"
                                                             t-options='{"widget": "image", "preview_image": "image_1024", "class": "oe_unmovable product_detail_img mh-100", "alt-field": "name", "zoom": "image_1920"}'/>
                                                    </div>

                                                    <div>
                                                        <button class="btn btn-light border-0 rounded-circle m-1 p-1"
                                                                aria-label="Edit"
                                                                name="o_writer_edit_product_brand_image">
                                                            <i class="fa fa-pencil fa-fw"/>
                                                        </button>

                                                        <button class="btn btn-light border-0 rounded-circle m-1 p-1"
                                                                aria-label="Clear" style="float: right;"
                                                                name="o_writer_remove_product_brand_image">
                                                            <i class="fa fa-trash-o fa-fw"/>
                                                        </button>
                                                    </div>

                                                    <input name="image" id="image" class="form-control" type="file"
                                                           accept="image/*" style="display:none;"/>
                                                    <input type="hidden" id="edit_delete_image" name="edit_delete_image"/>
                                                </div>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="name">
                                                    <span class="fw-bold">Brand Name</span>
                                                </label>

                                                <input name="name" id="name" class="form-control"
                                                       placeholder="Brand Name"
                                                       t-att-value="product_brand.with_context(lang=lang_code_en).name"
                                                       type="text" required="1"/>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="name_arabic">
                                                    <span class="fw-bold">Brand Name (Arabic)</span>
                                                </label>

                                                <input name="name_arabic" id="name_arabic" class="form-control"
                                                       placeholder="Brand Name (Arabic)"
                                                       t-att-value="product_brand.with_context(lang=lang_code_ar or lang_code_en).name"
                                                       type="text" required="1"/>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="description">
                                                    <span class="fw-bold">Description</span>
                                                </label>

                                                <textarea name="description" id="description" style="min-height: 120px"
                                                          class="form-control o_wysiwyg_loader">
                                                    <t t-esc="product_brand.with_context(lang=lang_code_en).description"/>
                                                </textarea>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="description_arabic">
                                                    <span class="fw-bold">Description (Arabic)</span>
                                                </label>

                                                <textarea name="description_arabic" id="description_arabic"
                                                          style="min-height: 120px"
                                                          class="form-control o_wysiwyg_loader">
                                                    <t t-esc="product_brand.with_context(lang=lang_code_ar or lang_code_en).description"/>
                                                </textarea>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="seo_title">
                                                    <span class="fw-bold">SEO Title</span>
                                                </label>

                                                <input name="seo_title" id="seo_title" class="form-control"
                                                       placeholder="SEO Title"
                                                       t-att-value="product_brand.with_context(lang=lang_code_en).seo_title"
                                                       type="text"/>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="seo_title_arabic">
                                                    <span class="fw-bold">SEO Title (Arabic)</span>
                                                </label>

                                                <input name="seo_title_arabic" id="seo_title_arabic"
                                                       class="form-control"
                                                       placeholder="SEO Title (Arabic)"
                                                       t-att-value="product_brand.with_context(lang=lang_code_ar or lang_code_en).seo_title"
                                                       type="text"/>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="seo_description">
                                                    <span class="fw-bold">SEO Description</span>
                                                </label>

                                                <textarea name="seo_description" id="seo_description"
                                                          style="min-height: 120px" class="form-control">
                                                    <t t-esc="product_brand.with_context(lang=lang_code_en).seo_description"/>
                                                </textarea>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="seo_description_arabic">
                                                    <span class="fw-bold">SEO Description (Arabic)</span>
                                                </label>

                                                <textarea name="seo_description_arabic" id="seo_description_arabic"
                                                          style="min-height: 120px" class="form-control">
                                                    <t t-esc="product_brand.with_context(lang=lang_code_ar or lang_code_en).seo_description"/>
                                                </textarea>
                                            </div>

                                            <div class="col">
                                                <button type="submit" class="btn btn-primary">Save</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <template id="portal_my_writer_product_tags" name="My Writer Product Tag">
        <t t-call="portal.portal_layout">
            <t t-set="breadcrumbs_searchbar" t-value="True"/>

            <t t-call="portal.portal_searchbar">
                <t t-set="title">Product Tags</t>
            </t>


            <t t-if="not product_tags">
                <div class="alert alert-warning mt8" role="alert">
                    There are no product tags.
                </div>
            </t>
            <t t-else="">
                <t t-call="portal.portal_table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="product_tags" t-as="product_tag">
                            <tr>
                                <td>
                                    <span t-field="product_tag.name"/>
                                </td>

                                <td>
                                    <span t-field="product_tag.description"/>
                                </td>

                                <td>
                                    <a t-attf-href="/my/writer_product_tags/edit/#{product_tag.id}" title="Edit">
                                        <button type="button" class="btn btn-secondary o_default_snippet_text">
                                            Edit
                                        </button>
                                    </a>
                                </td>
                            </tr>
                        </t>
                    </tbody>
                </t>
            </t>
        </t>
    </template>

    <template id="portal_my_writer_product_tag_edit" name="Writer Product Tag Edit">
        <t t-call="web.frontend_layout">
            <div id="wrap">
                <div class="container pt-4 pb-5">
                    <h1 class="o_page_header">
                        <t t-esc="product_tag.display_name"/>
                    </h1>
                    <div>
                        <form method="post" role="form"
                              class="o_writer_product_tag_editor_form js_website_submit_form row">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                            <input type="hidden" name="submit_option"/>
                            <input type="hidden" id="delete_faqs" name="delete_faqs"/>

                            <div class="col-9 mb-3">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="name">
                                                    <span class="fw-bold">Tag Name</span>
                                                </label>

                                                <input name="name" id="name" class="form-control"
                                                       placeholder="Tag Name"
                                                       t-att-value="product_tag.with_context(lang=lang_code_en).name"
                                                       type="text" required="1"/>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="name_arabic">
                                                    <span class="fw-bold">Tag Name (Arabic)</span>
                                                </label>

                                                <input name="name_arabic" id="name_arabic" class="form-control"
                                                       placeholder="Tag Name (Arabic)"
                                                       t-att-value="product_tag.with_context(lang=lang_code_ar or lang_code_en).name"
                                                       type="text" required="1"/>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="description">
                                                    <span class="fw-bold">Description</span>
                                                </label>

                                                <textarea name="description" id="description" style="min-height: 120px"
                                                          class="form-control o_wysiwyg_loader">
                                                    <t t-esc="product_tag.with_context(lang=lang_code_en).description"/>
                                                </textarea>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="description_arabic">
                                                    <span class="fw-bold">Description (Arabic)</span>
                                                </label>

                                                <textarea name="description_arabic" id="description_arabic"
                                                          style="min-height: 120px"
                                                          class="form-control o_wysiwyg_loader">
                                                    <t t-esc="product_tag.with_context(lang=lang_code_ar or lang_code_en).description"/>
                                                </textarea>
                                            </div>




                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="seo_title">
                                                    <span class="fw-bold">SEO Title</span>
                                                </label>

                                                <input name="seo_title" id="seo_title" class="form-control"
                                                       placeholder="SEO Title"
                                                       t-att-value="product_tag.with_context(lang=lang_code_en).seo_title"
                                                       type="text"/>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="seo_title_arabic">
                                                    <span class="fw-bold">SEO Title (Arabic)</span>
                                                </label>

                                                <input name="seo_title_arabic" id="seo_title_arabic"
                                                       class="form-control"
                                                       placeholder="SEO Title (Arabic)"
                                                       t-att-value="product_tag.with_context(lang=lang_code_ar or lang_code_en).seo_title"
                                                       type="text"/>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="seo_description">
                                                    <span class="fw-bold">SEO Description</span>
                                                </label>

                                                <textarea name="seo_description" id="seo_description"
                                                          style="min-height: 120px" class="form-control">
                                                    <t t-esc="product_tag.with_context(lang=lang_code_en).seo_description"/>
                                                </textarea>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="seo_description_arabic">
                                                    <span class="fw-bold">SEO Description (Arabic)</span>
                                                </label>

                                                <textarea name="seo_description_arabic" id="seo_description_arabic"
                                                          style="min-height: 120px" class="form-control">
                                                    <t t-esc="product_tag.with_context(lang=lang_code_ar or lang_code_en).seo_description"/>
                                                </textarea>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="seo_description_arabic">
                                                    <span class="fw-bold">FAQs</span>
                                                </label>
                                                <div class="table-faqs-container">
                                                    <table id="table_faqs">
                                                        <thead>
                                                            <tr>
                                                                <th>Quotation</th>
                                                                <th>Quotation (Arabic)</th>
                                                                <th>Answer</th>
                                                                <th>Answer (Arabic)</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="tbody_faqs">
                                                            <tr id="tr_faq" t-foreach="product_tag.faq_ids" t-as="faq">
                                                                <td contenteditable="false">
                                                                    <textarea t-attf-name="edit_faq_quotation_#{faq.id}"
                                                                              t-attf-id="edit_faq_quotation_#{faq.id}"
                                                                              style="min-height: 120px"
                                                                              class="form-control">
                                                                        <t t-esc="faq.with_context(lang=lang_code_en).quotation"/>
                                                                    </textarea>
                                                                </td>
                                                                <td contenteditable="false">
                                                                    <textarea
                                                                            t-attf-name="edit_faq_quotation_arabic_#{faq.id}"
                                                                            t-attf-id="edit_faq_quotation_arabic_#{faq.id}"
                                                                            style="min-height: 120px"
                                                                            class="form-control">
                                                                        <t t-esc="faq.with_context(lang=lang_code_ar or lang_code_en).quotation"/>
                                                                    </textarea>
                                                                </td>

                                                                <td contenteditable="false">
                                                                    <textarea t-attf-name="edit_faq_answer_#{faq.id}"
                                                                              t-attf-id="edit_faq_answer_#{faq.id}"
                                                                              style="min-height: 120px"
                                                                              class="form-control">
                                                                        <t t-esc="faq.with_context(lang=lang_code_en).answer"/>
                                                                    </textarea>
                                                                </td>
                                                                <td contenteditable="false">
                                                                    <textarea
                                                                            t-attf-name="edit_faq_answer_arabic_#{faq.id}"
                                                                            t-attf-id="edit_faq_answer_arabic_#{faq.id}"
                                                                            style="min-height: 120px"
                                                                            class="form-control">
                                                                        <t t-esc="faq.with_context(lang=lang_code_ar or lang_code_en).answer"/>
                                                                    </textarea>
                                                                </td>

                                                                <td>
                                                                    <a id="remove_faq" t-att-faq_id="faq.id">
                                                                        <i class="gg-trash"/>
                                                                    </a>
                                                                </td>
                                                            </tr>

                                                            <tr id="add_tr_faq" style="display:none;">
                                                                <td contenteditable="false">
                                                                    <textarea style="min-height: 120px"
                                                                              class="form-control"/>
                                                                </td>
                                                                <td contenteditable="false">
                                                                    <textarea style="min-height: 120px"
                                                                              class="form-control"/>
                                                                </td>
                                                                <td contenteditable="false">
                                                                    <textarea style="min-height: 120px"
                                                                              class="form-control"/>
                                                                </td>
                                                                <td contenteditable="false">
                                                                    <textarea style="min-height: 120px"
                                                                              class="form-control"/>
                                                                </td>
                                                                <td>
                                                                    <a id="remove_faq">
                                                                        <i class="gg-trash"/>
                                                                    </a>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                    <a id="add_faq">Add FAQ</a>
                                                </div>
                                            </div>

                                            <div class="col">
                                                <button type="submit" class="btn btn-primary">Save</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <template id="portal_my_writer_product_categories" name="My Writer Product Category">
        <t t-call="portal.portal_layout">
            <t t-set="breadcrumbs_searchbar" t-value="True"/>

            <t t-call="portal.portal_searchbar">
                <t t-set="title">Product Categories</t>
            </t>


            <t t-if="not grouped_product_categories">
                <div class="alert alert-warning mt8" role="alert">
                    There are no product categories.
                </div>
            </t>
            <t t-else="">
                <t t-call="portal.portal_table">
                    <thead>
                        <tr>
                            <th>Category Name</th>
                            <th>Parent Category</th>
                            <th class="text-end">Status</th>
                            <th/>
                            <th/>
                        </tr>
                    </thead>

                    <t t-foreach="grouped_product_categories" t-as="product_categories">
                        <tbody t-if="product_categories">
                            <tr t-if="not groupby == 'none'" class="table-light">
                                <th t-if="groupby == 'state'" colspan="5">
                                    <span class="text-truncate" t-field="product_categories[0].state"/>
                                </th>
                            </tr>
                        </tbody>

                        <tbody t-if="product_categories">
                            <t t-foreach="product_categories" t-as="product_category">
                                <tr>
                                    <td>
                                        <span t-field="product_category.name"/>
                                    </td>

                                    <td>
                                        <span t-field="product_category.parent_id"/>
                                    </td>

                                    <td class="text-end">
                                        <span class="badge text-bg-light" t-field="product_category.state"/>
                                    </td>

                                    <td>
                                        <t t-if="product_category.state == 'draft'">
                                            <a t-attf-href="/my/writer_product_categories/edit/#{product_category.id}"
                                               title="Edit">
                                                <button type="button" class="btn btn-secondary o_default_snippet_text">
                                                    Edit
                                                </button>
                                            </a>
                                        </t>
                                    </td>

                                    <td>
                                        <t t-if="product_category.state == 'draft'">
                                            <a t-attf-href="/my/writer_product_categories/submit/#{product_category.id}"
                                               title="Submit">
                                                <button type="button" class="btn btn-secondary o_default_snippet_text">
                                                    Submit
                                                </button>
                                            </a>
                                        </t>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </t>
                </t>
            </t>
        </t>
    </template>

    <template id="portal_my_writer_product_category_edit" name="Writer Product Category Edit">
        <t t-call="web.frontend_layout">
            <div id="wrap">
                <div class="container pt-4 pb-5">
                    <h1 class="o_page_header">
                        <t t-esc="product_category.display_name"/>
                    </h1>
                    <div>
                        <form method="post" role="form"
                              class="o_writer_product_category_editor_form js_website_submit_form row"
                              enctype="multipart/form-data">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                            <input type="hidden" name="submit_option"/>
                            <input type="hidden" id="delete_faqs" name="delete_faqs"/>

                            <div class="col-9 mb-3">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="mb-3 col-12 position-relative">
                                                <div>
                                                    <div style="min-height: 400px;">
                                                        <div t-field="product_category.image_1920"
                                                             id="product_category_image"
                                                             class="d-flex align-items-center justify-content-center h-100  oe_unmovable"
                                                             t-options='{"widget": "image", "preview_image": "image_1024", "class": "oe_unmovable product_detail_img mh-100", "alt-field": "name", "zoom": "image_1920"}'/>
                                                    </div>

                                                    <div>
                                                        <button class="btn btn-light border-0 rounded-circle m-1 p-1"
                                                                aria-label="Edit"
                                                                name="o_writer_edit_product_category_image">
                                                            <i class="fa fa-pencil fa-fw"/>
                                                        </button>

                                                        <button class="btn btn-light border-0 rounded-circle m-1 p-1"
                                                                aria-label="Clear" style="float: right;"
                                                                name="o_writer_remove_product_category_image">
                                                            <i class="fa fa-trash-o fa-fw"/>
                                                        </button>
                                                    </div>

                                                    <input name="image" id="image" class="form-control" type="file"
                                                           accept="image/*" style="display:none;"/>
                                                    <input type="hidden" id="edit_delete_image"
                                                           name="edit_delete_image"/>
                                                </div>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="name">
                                                    <span class="fw-bold">Category Name</span>
                                                </label>

                                                <input name="name" id="name" class="form-control"
                                                       placeholder="Category Name"
                                                       t-att-value="product_category.with_context(lang=lang_code_en).name"
                                                       type="text" required="1"/>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="name_arabic">
                                                    <span class="fw-bold">Category Name (Arabic)</span>
                                                </label>

                                                <input name="name_arabic" id="name_arabic" class="form-control"
                                                       placeholder="Category Name (Arabic)"
                                                       t-att-value="product_category.with_context(lang=lang_code_ar or lang_code_en).name"
                                                       type="text" required="1"/>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="description">
                                                    <span class="fw-bold">Description</span>
                                                </label>

                                                <textarea name="description" id="description" style="min-height: 120px"
                                                          class="form-control o_wysiwyg_loader">
                                                    <t t-esc="product_category.with_context(lang=lang_code_en).description"/>
                                                </textarea>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="description_arabic">
                                                    <span class="fw-bold">Description (Arabic)</span>
                                                </label>

                                                <textarea name="description_arabic" id="description_arabic"
                                                          style="min-height: 120px"
                                                          class="form-control o_wysiwyg_loader">
                                                    <t t-esc="product_category.with_context(lang=lang_code_ar or lang_code_en).description"/>
                                                </textarea>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="meta_description">
                                                    <span class="fw-bold">Meta Description</span>
                                                </label>

                                                <textarea name="meta_description" id="meta_description"
                                                          style="min-height: 120px"
                                                          class="form-control o_wysiwyg_loader">
                                                    <t t-esc="product_category.with_context(lang=lang_code_en).meta_description"/>
                                                </textarea>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="meta_description_arabic">
                                                    <span class="fw-bold">Meta Description (Arabic)</span>
                                                </label>

                                                <textarea name="meta_description_arabic" id="meta_description_arabic"
                                                          style="min-height: 120px"
                                                          class="form-control o_wysiwyg_loader">
                                                    <t t-esc="product_category.with_context(lang=lang_code_ar or lang_code_en).meta_description"/>
                                                </textarea>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="seo_title">
                                                    <span class="fw-bold">SEO Title</span>
                                                </label>

                                                <input name="seo_title" id="seo_title" class="form-control"
                                                       placeholder="SEO Title"
                                                       t-att-value="product_category.with_context(lang=lang_code_en).seo_title"
                                                       type="text"/>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="seo_title_arabic">
                                                    <span class="fw-bold">SEO Title (Arabic)</span>
                                                </label>

                                                <input name="seo_title_arabic" id="seo_title_arabic"
                                                       class="form-control"
                                                       placeholder="SEO Title (Arabic)"
                                                       t-att-value="product_category.with_context(lang=lang_code_ar or lang_code_en).seo_title"
                                                       type="text"/>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="seo_description">
                                                    <span class="fw-bold">SEO Description</span>
                                                </label>

                                                <textarea name="seo_description" id="seo_description"
                                                          style="min-height: 120px" class="form-control">
                                                    <t t-esc="product_category.with_context(lang=lang_code_en).seo_description"/>
                                                </textarea>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="seo_description_arabic">
                                                    <span class="fw-bold">SEO Description (Arabic)</span>
                                                </label>

                                                <textarea name="seo_description_arabic" id="seo_description_arabic"
                                                          style="min-height: 120px" class="form-control">
                                                    <t t-esc="product_category.with_context(lang=lang_code_ar or lang_code_en).seo_description"/>
                                                </textarea>
                                            </div>

                                            <div class="mb-3 col-12">
                                                <label class="mb-1 text-primary" for="seo_description_arabic">
                                                    <span class="fw-bold">FAQs</span>
                                                </label>
                                                <div class="table-faqs-container">
                                                    <table id="table_faqs">
                                                        <thead>
                                                            <tr>
                                                                <th>Quotation</th>
                                                                <th>Quotation (Arabic)</th>
                                                                <th>Answer</th>
                                                                <th>Answer (Arabic)</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="tbody_faqs">
                                                            <tr id="tr_faq" t-foreach="product_category.faq_ids" t-as="faq">
                                                                <td contenteditable="false">
                                                                    <textarea t-attf-name="edit_faq_quotation_#{faq.id}"
                                                                              t-attf-id="edit_faq_quotation_#{faq.id}"
                                                                              style="min-height: 120px"
                                                                              class="form-control">
                                                                        <t t-esc="faq.with_context(lang=lang_code_en).quotation"/>
                                                                    </textarea>
                                                                </td>
                                                                <td contenteditable="false">
                                                                    <textarea
                                                                            t-attf-name="edit_faq_quotation_arabic_#{faq.id}"
                                                                            t-attf-id="edit_faq_quotation_arabic_#{faq.id}"
                                                                            style="min-height: 120px"
                                                                            class="form-control">
                                                                        <t t-esc="faq.with_context(lang=lang_code_ar or lang_code_en).quotation"/>
                                                                    </textarea>
                                                                </td>

                                                                <td contenteditable="false">
                                                                    <textarea t-attf-name="edit_faq_answer_#{faq.id}"
                                                                              t-attf-id="edit_faq_answer_#{faq.id}"
                                                                              style="min-height: 120px"
                                                                              class="form-control">
                                                                        <t t-esc="faq.with_context(lang=lang_code_en).answer"/>
                                                                    </textarea>
                                                                </td>
                                                                <td contenteditable="false">
                                                                    <textarea
                                                                            t-attf-name="edit_faq_answer_arabic_#{faq.id}"
                                                                            t-attf-id="edit_faq_answer_arabic_#{faq.id}"
                                                                            style="min-height: 120px"
                                                                            class="form-control">
                                                                        <t t-esc="faq.with_context(lang=lang_code_ar or lang_code_en).answer"/>
                                                                    </textarea>
                                                                </td>

                                                                <td>
                                                                    <a id="remove_faq" t-att-faq_id="faq.id">
                                                                        <i class="gg-trash"/>
                                                                    </a>
                                                                </td>
                                                            </tr>

                                                            <tr id="add_tr_faq" style="display:none;">
                                                                <td contenteditable="false">
                                                                    <textarea style="min-height: 120px"
                                                                              class="form-control"/>
                                                                </td>
                                                                <td contenteditable="false">
                                                                    <textarea style="min-height: 120px"
                                                                              class="form-control"/>
                                                                </td>
                                                                <td contenteditable="false">
                                                                    <textarea style="min-height: 120px"
                                                                              class="form-control"/>
                                                                </td>
                                                                <td contenteditable="false">
                                                                    <textarea style="min-height: 120px"
                                                                              class="form-control"/>
                                                                </td>
                                                                <td>
                                                                    <a id="remove_faq">
                                                                        <i class="gg-trash"/>
                                                                    </a>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                    <a id="add_faq">Add FAQ</a>
                                                </div>
                                            </div>

                                            <div class="col">
                                                <button type="submit" class="btn btn-primary">Save</button>
                                                <button name="o_writer_submit_save_button" type="submit"
                                                        class="btn btn-primary">Save and Submit
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <template id="portal_my_writer_commission_lines" name="My Writer Commission Lines">
        <t t-call="portal.portal_layout">
            <t t-set="breadcrumbs_searchbar" t-value="True"/>

            <t t-call="portal.portal_searchbar">
                <t t-set="title">Commission Report</t>
            </t>

            <ol class="o_portal_submenu breadcrumb mb-0 py-2 flex-grow-1">
                <li>
                    <input type="hidden" id="keep_query" t-att-value="keep_query()"/>
                    <button type="button" class="btn btn-primary o_default_snippet_text" title="Export"
                            onclick="onclick_writer_commission_lines_export()">Export
                    </button>
                </li>
            </ol>

            <t t-if="not grouped_commission_lines">
                <div class="alert alert-warning mt8" role="alert">
                    There are no commissions.
                </div>
            </t>
            <t t-else="">
                <t t-call="portal.portal_table">
                    <thead>
                        <tr>
                            <th/>
                            <th>#</th>
                            <th>Type</th>
                            <th>Product</th>
                            <th>Product Category</th>
                            <th>Date</th>
                            <th>Amount</th>
                            <th class="text-end">Status</th>
                        </tr>
                    </thead>

                    <t t-foreach="grouped_commission_lines" t-as="commission_lines">
                        <tbody t-if="commission_lines">
                            <tr t-if="not groupby == 'none'" class="table-light">

                                <th t-if="groupby == 'state'" colspan="8">
                                    <span class="text-truncate" t-field="commission_lines[0].state"/>
                                </th>

                                <th t-if="groupby == 'date'" colspan="8">
                                    <span class="text-truncate" t-field="commission_lines[0].date"/>
                                </th>

                                <th t-if="groupby == 'type'" colspan="8">
                                    <span class="text-truncate" t-field="commission_lines[0].type"/>
                                </th>

                                <th t-if="groupby == 'product'" colspan="8">
                                    <span class="text-truncate"
                                          t-esc="commission_lines[0].product_template_id.display_name or 'None'"/>
                                </th>

                                <th t-if="groupby == 'product_category'" colspan="8">
                                    <span class="text-truncate"
                                          t-esc="commission_lines[0].product_category_id.display_name or 'None'"/>
                                </th>
                            </tr>
                        </tbody>

                        <tbody t-if="commission_lines">
                            <t t-foreach="commission_lines" t-as="commission_line">
                                <tr id="tr_writer_commission_line">
                                    <td>
                                        <input class="form-check-input ms-2" type="checkbox"
                                               t-att-id="commission_line.id"
                                               onchange="select_writer_commission_line(this)"/>
                                    </td>

                                    <td class="text-start">
                                        <a t-att-href="commission_line.get_portal_url()">
                                            <span t-field="commission_line.sudo().display_name"/>
                                        </a>
                                    </td>

                                    <td>
                                        <span t-field="commission_line.type"/>
                                    </td>

                                    <td>
                                        <span t-field="commission_line.product_template_id"/>
                                    </td>

                                    <td>
                                        <span t-field="commission_line.product_category_id"/>

                                    </td>

                                    <td>
                                        <span t-field="commission_line.date"/>
                                    </td>

                                    <td>
                                        <span t-field="commission_line.amount"/>
                                    </td>

                                    <td class="text-end">
                                        <span class="badge text-bg-light" t-field="commission_line.state"/>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </t>
                </t>
            </t>
        </t>
    </template>

    <template id="portal_my_writer_commission_line" name="My Writer Commission Line"
              inherit_id="portal.portal_sidebar" primary="True">
        <xpath expr="//div[hasclass('o_portal_sidebar')]" position="inside">
            <t t-call="portal.portal_record_layout">
                <t t-set="card_header">
                    <div class="row g-0">
                        <div class="col-md">
                            <h5 class="mb-1 mb-md-0">
                                <span t-field="writer_commission_line.sudo().display_name"/>
                            </h5>
                        </div>
                        <div class="col-md text-md-end">
                            <span t-field="writer_commission_line.state" class=" badge rounded-pill text-bg-info"
                                  title="Current status"/>
                        </div>
                    </div>
                </t>

                <t t-set="card_body">
                    <div class="row mb-4">
                        <div class="col-6 col-md-6">
                            <strong>Date:</strong>
                            <a t-field="writer_commission_line.date"/>
                        </div>

                        <div class="col-6 col-md-6">
                            <strong>Amount:</strong>
                            <a t-field="writer_commission_line.amount"/>
                        </div>
                    </div>

                    <div class="row mb-4">
                        <div class="col-6 col-md-6">
                            <strong>Type:</strong>
                            <a t-field="writer_commission_line.type"/>
                        </div>

                        <div t-if="writer_commission_line.type == 'product'" class="col-6 col-md-6">
                            <strong>Product:</strong>
                            <a t-field="writer_commission_line.product_template_id"/>
                        </div>

                        <div t-else="" class="col-6 col-md-6">
                            <strong>Product Category:</strong>
                            <a t-field="writer_commission_line.product_category_id"/>
                        </div>
                    </div>

                    <div class="row mb-4" t-if="writer_commission_line.invoice_id">
                        <div class="col-6 col-md-6">
                            <strong>Payment Status:</strong>
                            <a t-field="writer_commission_line.payment_state"/>
                        </div>
                    </div>
                </t>
            </t>

            <div class="mt32">
                <h4>
                    <strong>Message and communication history</strong>
                </h4>
                <t t-call="portal.message_thread">
                    <t t-set="object" t-value="writer_commission_line"/>
                    <t t-set="token" t-value="writer_commission_line.access_token"/>
                    <t t-set="pid" t-value="pid"/>
                    <t t-set="hash" t-value="hash"/>
                </t>
            </div>
        </xpath>
    </template>


    <template id="portal_my_writer_target_lines" name="My Writer Commission Lines">
        <t t-call="portal.portal_layout">
            <t t-set="breadcrumbs_searchbar" t-value="True"/>

            <t t-call="portal.portal_searchbar">
                <t t-set="title">Target Report</t>
            </t>

            <ol class="o_portal_submenu breadcrumb mb-0 py-2 flex-grow-1">
                <li>
                    <input type="hidden" id="keep_query" t-att-value="keep_query()"/>
                    <button type="button" class="btn btn-primary o_default_snippet_text" title="Export"
                            onclick="onclick_writer_target_lines_export()">Export
                    </button>
                </li>
            </ol>

            <t t-if="not grouped_target_lines">
                <div class="alert alert-warning mt8" role="alert">
                    There are no targets.
                </div>
            </t>
            <t t-else="">
                <t t-call="portal.portal_table">
                    <thead>
                        <tr>
                            <th/>
                            <th>Target Name</th>
                            <th>Date From</th>
                            <th>Date To</th>
                            <th>Type</th>
                            <th>Target</th>
                            <th>Target Achieved</th>
                        </tr>
                    </thead>

                    <t t-foreach="grouped_target_lines" t-as="target_lines">
                        <tbody t-if="target_lines">
                            <tr t-if="not groupby == 'none'" class="table-light">

                                <th t-if="groupby == 'target'" colspan="7">
                                    <span class="text-truncate" t-field="target_lines[0].writer_target_id"/>
                                </th>

                                <th t-if="groupby == 'type'" colspan="7">
                                    <span class="text-truncate" t-field="target_lines[0].type"/>
                                </th>
                            </tr>
                        </tbody>

                        <tbody t-if="target_lines">
                            <t t-foreach="target_lines" t-as="target_line">
                                <tr id="tr_writer_target_line">
                                    <td>
                                        <input class="form-check-input ms-2" type="checkbox"
                                               t-att-id="target_line.id"
                                               onchange="select_writer_target_line(this)"/>
                                    </td>

                                    <td class="text-start">
                                        <span t-field="target_line.writer_target_id"/>
                                    </td>

                                    <td>
                                        <span t-field="target_line.date_from"/>
                                    </td>


                                    <td>
                                        <span t-field="target_line.date_to"/>
                                    </td>

                                    <td>
                                        <span t-field="target_line.type"/>
                                    </td>

                                    <td>
                                        <span t-field="target_line.target"/>
                                    </td>

                                    <td>
                                        <span t-field="target_line.target_achieved"/>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </t>
                </t>
            </t>
        </t>
    </template>
</odoo>